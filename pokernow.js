(()=>{function o(){for(var t,s,e=document.getElementsByTagName("button"),a=0;a<e.length;a++)e[a].classList.contains("fold")?t=e[a]:e[a].classList.contains("check-fold")&&(s=e[a]);s?s.click():t&&t.click()}window.addEventListener("message",t=>{t.source==window&&t.data.type&&t.data.type=="FROM_EXTENSION"&&t.data.text&&o()});function i(){try{var t=document.getElementsByClassName("you-player")[0];if(t){var s=t.querySelector(".table-player-name a");if(s&&s.href){var e=s.href.match(/\/players\/([^/?#]+)/);if(e&&e[1])return e[1]}}}catch(a){console.log("Could not extract player ID:",a)}return null}function u(){try{var t=document.getElementsByClassName("you-player")[0];if(t){var s=t.querySelector(".table-player-name a");if(s)return s.textContent.trim()}}catch(e){console.log("Could not extract player name:",e)}return null}class c{constructor(s,e,a,r){this.value1=s,this.suit1=e,this.value2=a,this.suit2=r,this.url=window.location.href,this.playerId=i(),this.playerName=u()}}class d{constructor(s,e){this.value=s,this.suit=e}}let f=new MutationObserver(t=>{var s=[];for(let e of t){let a=e.target;if(a.classList.contains("card-container")){let r=a.getElementsByClassName("value")[0].innerHTML,n=a.getElementsByClassName("suit")[0].innerHTML;s.push(new d(r,n))}}if(s.length==2){let e=s[0],a=s[1],r=new c(e.value,e.suit,a.value,a.suit);window.postMessage({type:"FROM_PAGE",text:JSON.stringify(r)},"*")}});async function l(){try{var t=document.getElementsByClassName("table")[0],s=t.getElementsByClassName("seats")[0],e=s.getElementsByClassName("you-player")[0],a=e.getElementsByClassName("table-player-cards")[0];if(t&&e&&a)return f.observe(a,{attributes:!0,subtree:!0}),!0}catch{await new Promise(n=>setTimeout(n,3e3)),l()}}l();})();
