(()=>{function o(){for(var t,s,e=document.getElementsByTagName("button"),a=0;a<e.length;a++)e[a].classList.contains("fold")?t=e[a]:e[a].classList.contains("check-fold")&&(s=e[a]);s?s.click():t&&t.click()}window.addEventListener("message",t=>{t.source==window&&t.data.type&&t.data.type=="FROM_EXTENSION"&&t.data.text&&o()});function c(){try{var t=document.getElementsByClassName("you-player")[0];if(t){var s=t.querySelector(".table-player-name a");if(s&&s.href){var e=s.href.match(/\/players\/([^/?#]+)/);if(e&&e[1])return e[1]}}}catch{}return null}function f(){try{var t=document.getElementsByClassName("you-player")[0];if(t){var s=t.querySelector(".table-player-name a");if(s)return s.textContent.trim()}}catch{}return null}class m{constructor(s,e,a,r){this.value1=s,this.suit1=e,this.value2=a,this.suit2=r,this.url=window.location.href,this.playerId=c(),this.playerName=f()}}class d{constructor(s,e){this.value=s,this.suit=e}}let y=new MutationObserver(t=>{var s=[];for(let e of t){let a=e.target;if(a.classList.contains("card-container")){let r=a.getElementsByClassName("value")[0],n=a.getElementsByClassName("suit")[0];if(r&&n){let i=r.innerHTML,u=n.innerHTML;s.push(new d(i,u))}}}if(s.length==2){let e=s[0],a=s[1],r=new m(e.value,e.suit,a.value,a.suit);window.postMessage({type:"FROM_PAGE",text:JSON.stringify(r)},"*")}});async function l(){try{var t=document.getElementsByClassName("table")[0];if(!t){await new Promise(r=>setTimeout(r,3e3)),l();return}var s=t.getElementsByClassName("seats")[0],e=s?s.getElementsByClassName("you-player")[0]:null,a=e?e.getElementsByClassName("table-player-cards")[0]:null;if(t&&e&&a)return y.observe(a,{attributes:!0,subtree:!0}),!0;await new Promise(r=>setTimeout(r,3e3)),l()}catch{await new Promise(n=>setTimeout(n,3e3)),l()}}l();})();
